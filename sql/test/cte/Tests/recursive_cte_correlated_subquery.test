query I
WITH RECURSIVE
input(sud) AS (
VALUES('53..7....6..195....98....6.8...6...34..8.3..17...2...6.6....28....419..5....8..79')
),
digits(z, lp) AS (
SELECT CAST(lp+1 AS TEXT), cast(lp as int)+1 FROM generate_series(0,8+1,1) t(lp)
),
x(s, ind) AS (
SELECT sud, contains(sud, '.') FROM input
UNION ALL
SELECT
substr(s, 1, cast(ind as int)-1) || z || substr(s, cast(ind as int)+1),
contains(substr(s, 1, cast(ind as int)-1) || z || substr(s, cast(ind as int)+1), '.' )
FROM x, digits AS z
WHERE cast(ind as int) >0
AND NOT EXISTS (
SELECT 1
FROM digits AS lp
WHERE z.z = substr(s, ((cast(ind as int)-1)/9)*9 + lp, 1)
OR z.z = substr(s, ((cast(ind as int)-1)%9) + (lp-1)*9 + 1, 1)
OR z.z = substr(s, (((cast(ind as int)-1)/3) % 3) * 3
+ ((cast(ind as int)-1)/27) * 27 + lp
+ ((lp-1) / 3) * 6, 1)
)
)
SELECT s FROM x WHERE cast(ind as int)=0;
----
534678912672195348198342567859761423426853791713924856961537284287419635345286179
